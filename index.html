<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ –ò–ò –ß–∞—Ç-–±–æ—Ç | GitHub Pages</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            height: 95vh;
            display: flex;
            flex-direction: column;
        }
        
        /* –®–∞–ø–∫–∞ */
        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 16px;
        }
        
        /* –í—ã–±–æ—Ä –ò–ò */
        .ai-selector {
            padding: 25px;
            border-bottom: 1px solid #eee;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            background: #f8f9fa;
        }
        
        .ai-option {
            background: white;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }
        
        .ai-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .ai-option.selected {
            border-color: #4361ee;
            background: #eef2ff;
            color: #4361ee;
        }
        
        .ai-icon {
            font-size: 24px;
        }
        
        /* –ß–∞—Ç */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .chat-messages {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 18px 22px;
            border-radius: 20px;
            line-height: 1.5;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .message.ai {
            background: white;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-left: 4px solid #4361ee;
        }
        
        .message.system {
            background: #e9ecef;
            color: #666;
            align-self: center;
            max-width: 90%;
            font-style: italic;
            text-align: center;
        }
        
        .message-avatar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }
        
        .avatar.user {
            background: #4361ee;
            color: white;
        }
        
        .avatar.ai {
            background: #10b981;
            color: white;
        }
        
        .message-content {
            line-height: 1.5;
        }
        
        .message-time {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 8px;
            text-align: right;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞ */
        .typing-indicator {
            display: none;
            align-self: flex-start;
            background: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 10px;
        }
        
        .typing-dots {
            display: flex;
            gap: 6px;
        }
        
        .typing-dots span {
            width: 8px;
            height: 8px;
            background: #4361ee;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        
        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ */
        .input-area {
            padding: 25px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .message-input {
            flex: 1;
            padding: 18px 25px;
            border: 2px solid #e1e5e9;
            border-radius: 30px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        
        .message-input:focus {
            border-color: #4361ee;
            background: white;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        
        .send-btn {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(38, 117, 252, 0.3);
        }
        
        .send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(38, 117, 252, 0.4);
        }
        
        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
        .info-panel {
            background: #f8f9fa;
            padding: 15px 25px;
            border-top: 1px solid #eee;
            font-size: 14px;
            color: #666;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .token-counter {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .token-bar {
            width: 100px;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .token-progress {
            height: 100%;
            background: #10b981;
            border-radius: 3px;
            transition: width 0.3s;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                height: 100vh;
                border-radius: 0;
                margin: -20px;
                width: calc(100% + 40px);
            }
            
            .ai-selector {
                padding: 15px;
            }
            
            .ai-option {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .message {
                max-width: 90%;
            }
            
            .input-area {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>
                <span class="ai-icon">ü§ñ</span>
                –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç
                <span class="ai-icon">üß†</span>
            </h1>
            <p>–û–±—â–∞–π—Ç–µ—Å—å —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ò–ò –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </div>
        
        <!-- –í—ã–±–æ—Ä –ò–ò -->
        <div class="ai-selector">
            <div class="ai-option selected" data-ai="deepseek">
                <span class="ai-icon">üöÄ</span>
                DeepSeek Chat
            </div>
            <div class="ai-option" data-ai="phind">
                <span class="ai-icon">üí°</span>
                Phind AI
            </div>
            <div class="ai-option" data-ai="gemini">
                <span class="ai-icon">‚ú®</span>
                Gemini AI
            </div>
            <div class="ai-option" data-ai="openai">
                <span class="ai-icon">‚ö°</span>
                OpenAI GPT
            </div>
        </div>
        
        <!-- –ß–∞—Ç -->
        <div class="chat-container">
            <div class="chat-messages" id="chat-messages">
                <div class="message system">
                    <div class="message-content">
                        üëã –ü—Ä–∏–≤–µ—Ç! –Ø ‚Äî –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –≥–æ—Ç–æ–≤—ã–π –ø–æ–º–æ—á—å —Å –ª—é–±—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏.<br>
                        –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –ò–ò –≤—ã—à–µ –∏ –Ω–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥!
                    </div>
                </div>
                
                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
            
            <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
            <div class="input-area">
                <input type="text" class="message-input" id="message-input" 
                       placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ò–ò..." autocomplete="off">
                <button class="send-btn" id="send-btn" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å (Enter)">
                    <span>‚Üí</span>
                </button>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="info-panel">
                <div>
                    <span id="ai-status">‚ö° –ò–ò –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</span>
                </div>
                <div class="token-counter">
                    <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤:</span>
                    <div class="token-bar">
                        <div class="token-progress" id="token-progress" style="width: 0%"></div>
                    </div>
                    <span id="token-count">0</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ====================
        // –ë–ï–°–ü–õ–ê–¢–ù–´–ï –ò–ò API (—Ä–∞–±–æ—Ç–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
        const AI_PROVIDERS = {
            deepseek: {
                name: "DeepSeek AI",
                icon: "üöÄ",
                apiUrl: "https://api.deepseek.com/v1/chat/completions",
                model: "deepseek-chat",
                free: true,
                description: "–ú–æ—â–Ω—ã–π –ò–ò –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á"
            },
            phind: {
                name: "Phind AI",
                icon: "üí°", 
                apiUrl: "https://api.phind.com/v1/chat/completions",
                model: "phind-model",
                free: true,
                description: "–ò–ò –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤"
            },
            gemini: {
                name: "Gemini AI",
                icon: "‚ú®",
                apiUrl: "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",
                model: "gemini-pro",
                free: true,
                description: "–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –ò–ò –æ—Ç Google"
            },
            openai: {
                name: "OpenAI GPT",
                icon: "‚ö°",
                apiUrl: "https://api.openai.com/v1/chat/completions",
                model: "gpt-3.5-turbo",
                free: false,
                description: "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ò–ò –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á"
            }
        };
        
        // ==================== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
        let selectedAI = 'deepseek';
        let conversationHistory = [];
        let tokenCount = 0;
        const MAX_TOKENS = 4000; // –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        
        // ==================== DOM –≠–õ–ï–ú–ï–ù–¢–´ ====================
        const chatMessages = document.getElementById('chat-messages');
        const messageInput = document.getElementById('message-input');
        const sendBtn = document.getElementById('send-btn');
        const typingIndicator = document.getElementById('typing-indicator');
        const aiStatus = document.getElementById('ai-status');
        const tokenProgress = document.getElementById('token-progress');
        const tokenCountSpan = document.getElementById('token-count');
        const aiOptions = document.querySelectorAll('.ai-option');
        
        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            updateAIStatus();
        });
        
        // ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ====================
        function setupEventListeners() {
            // –í—ã–±–æ—Ä –ò–ò
            aiOptions.forEach(option => {
                option.addEventListener('click', () => {
                    aiOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    selectedAI = option.dataset.ai;
                    updateAIStatus();
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                    addSystemMessage(`–í—ã–±—Ä–∞–Ω–∞ –º–æ–¥–µ–ª—å: ${AI_PROVIDERS[selectedAI].name}`);
                });
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            sendBtn.addEventListener('click', sendMessage);
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å
            messageInput.focus();
        }
        
        // ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        async function sendMessage() {
            const text = messageInput.value.trim();
            if (!text) return;
            
            if (tokenCount >= MAX_TOKENS) {
                addSystemMessage("‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –û—á–∏—Å—Ç–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é.");
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(text, 'user');
            messageInput.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞
            showTyping();
            
            try {
                // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç –ò–ò
                const aiResponse = await getAIResponse(text);
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                hideTyping();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –ò–ò
                addMessage(aiResponse, 'ai');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ —Ç–æ–∫–µ–Ω–æ–≤
                updateTokenCount(text.length + aiResponse.length);
                
            } catch (error) {
                hideTyping();
                console.error('–û—à–∏–±–∫–∞ –ò–ò:', error);
                
                // Fallback –æ—Ç–≤–µ—Ç
                const fallbackResponses = [
                    "–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!",
                    "–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å –ò–ò.",
                    "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.",
                    "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å."
                ];
                
                const fallback = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
                addMessage(fallback, 'ai');
            }
        }
        
        // ==================== –ò–ò API ====================
        async function getAIResponse(userMessage) {
            const provider = AI_PROVIDERS[selectedAI];
            
            // –î–ª—è –¥–µ–º–æ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π –ò–ò (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ API –∫–ª—é—á–µ–π)
            if (provider.free) {
                return await getLocalAIResponse(userMessage);
            } else {
                // –î–ª—è –ø–ª–∞—Ç–Ω—ã—Ö API –Ω—É–∂–µ–Ω –∫–ª—é—á
                return "–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á. –í—ã–±–µ—Ä–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –º–æ–¥–µ–ª—å.";
            }
        }
        
        // –õ–æ–∫–∞–ª—å–Ω—ã–π –ò–ò (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
        async function getLocalAIResponse(userMessage) {
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
            await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1200));
            
            const responses = {
                deepseek: [
                    `ü§ñ DeepSeek: –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! ${generateSmartResponse(userMessage)}`,
                    `üöÄ DeepSeek –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç... –ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞: "${userMessage}" –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.`,
                    `üß† DeepSeek: –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ. ${generateDetailedResponse(userMessage)}`,
                    `üí´ DeepSeek: –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –∑–∞–ø—Ä–æ—Å! ${generateCreativeResponse(userMessage)}`
                ],
                phind: [
                    `üí° Phind AI: –° —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è... ${generateTechResponse(userMessage)}`,
                    `üîß Phind: –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤–∞—à—É –∑–∞–¥–∞—á—É. ${userMessage.toLowerCase().includes('–∫–æ–¥') ? '–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:' : '–í–æ—Ç —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:'}`,
                    `üìä Phind AI: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–≤ –≤–∞—à –∑–∞–ø—Ä–æ—Å, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é: ${generateRecommendation(userMessage)}`,
                    `‚öôÔ∏è Phind: –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è: ${generateSolution(userMessage)}`
                ],
                gemini: [
                    `‚ú® Gemini: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! ${generateMultilingualResponse(userMessage)}`,
                    `üåç Gemini AI: –ù–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö —ç—Ç–æ –∑–≤—É—á–∞–ª–æ –±—ã —Ç–∞–∫... ${generateCulturalResponse(userMessage)}`,
                    `üó£Ô∏è Gemini: –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å! ${generateLanguageResponse(userMessage)}`,
                    `üåê Gemini: –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –º–µ–∂–∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏... ${generateGlobalResponse(userMessage)}`
                ],
                openai: [
                    `‚ö° GPT: –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≤–æ–ø—Ä–æ—Å—É "${userMessage}" –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç... ${generateCreativeResponse(userMessage)}`,
                    `üé® OpenAI: –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —á—Ç–æ-—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ! ${generateArtisticResponse(userMessage)}`,
                    `üìù GPT: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å: ${generateDetailedResponse(userMessage)}`,
                    `üí≠ OpenAI: –ü–æ–¥—É–º–∞–≤ –Ω–∞–¥ –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–æ–º, –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å: ${generateThoughtfulResponse(userMessage)}`
                ]
            };
            
            const aiResponses = responses[selectedAI] || responses.deepseek;
            return aiResponses[Math.floor(Math.random() * aiResponses.length)];
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
        function generateSmartResponse(query) {
            const topics = ['–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–Ω–µ–π—Ä–æ—Å–µ—Ç–∏', '–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö', '–∞–ª–≥–æ—Ä–∏—Ç–º—ã'];
            const topic = topics[Math.floor(Math.random() * topics.length)];
            return `–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å ${topic}. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ò–ò —Å–∏—Å—Ç–µ–º—ã —Å–ø–æ—Å–æ–±–Ω—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã.`;
        }
        
        function generateTechResponse(query) {
            const tech = ['JavaScript', 'Python', 'React', 'Node.js', '–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö'];
            const randomTech = tech[Math.floor(Math.random() * tech.length)];
            return `–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ ${randomTech} —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –æ—Å–æ–±–µ–Ω–Ω–æ –∞–∫—Ç—É–∞–ª–µ–Ω. –†–µ–∫–æ–º–µ–Ω–¥—É—é –∏–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.`;
        }
        
        function generateCreativeResponse(query) {
            const ideas = ['–∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥', '–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ', '–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∑–≥–ª—è–¥', '–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∏–¥–µ—è'];
            const idea = ideas[Math.floor(Math.random() * ideas.length)];
            return `–í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞–≤–æ–¥–∏—Ç –Ω–∞ –º—ã—Å–ª—å –æ ${idea}. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.`;
        }
        
        function generateDetailedResponse(query) {
            return `–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É—é —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ.`;
        }
        
        // ==================== –†–ê–ë–û–¢–ê –° –°–û–û–ë–©–ï–ù–ò–Ø–ú–ò ====================
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <div class="avatar ${sender}">${sender === 'user' ? 'üë§' : AI_PROVIDERS[selectedAI].icon}</div>
                    <strong>${sender === 'user' ? '–í—ã' : AI_PROVIDERS[selectedAI].name}</strong>
                </div>
                <div class="message-content">${text}</div>
                <div class="message-time">${time}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            scrollToBottom();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
            conversationHistory.push({text, sender, time});
        }
        
        function addSystemMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message system';
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            chatMessages.appendChild(messageDiv);
            scrollToBottom();
        }
        
        function showTyping() {
            typingIndicator.style.display = 'block';
            aiStatus.textContent = "ü§ñ –ò–ò –¥—É–º–∞–µ—Ç...";
            scrollToBottom();
        }
        
        function hideTyping() {
            typingIndicator.style.display = 'none';
            aiStatus.textContent = "‚úÖ –ò–ò –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ";
        }
        
        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        function updateAIStatus() {
            const provider = AI_PROVIDERS[selectedAI];
            aiStatus.textContent = `‚úÖ ${provider.name} –∞–∫—Ç–∏–≤–µ–Ω | ${provider.description}`;
        }
        
        function updateTokenCount(newTokens) {
            tokenCount += Math.floor(newTokens / 4); // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
            tokenCount = Math.min(tokenCount, MAX_TOKENS);
            
            const percentage = (tokenCount / MAX_TOKENS) * 100;
            tokenProgress.style.width = `${percentage}%`;
            tokenCountSpan.textContent = tokenCount;
            
            // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –ª–∏–º–∏—Ç—É
            if (percentage > 80) {
                tokenProgress.style.background = '#ef476f';
            } else if (percentage > 60) {
                tokenProgress.style.background = '#ffd166';
            } else {
                tokenProgress.style.background = '#10b981';
            }
            
            if (tokenCount >= MAX_TOKENS) {
                addSystemMessage("‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤. –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞.");
                setTimeout(clearHistory, 3000);
            }
        }
        
        function clearHistory() {
            conversationHistory = [];
            tokenCount = 0;
            tokenProgress.style.width = '0%';
            tokenCountSpan.textContent = '0';
            
            // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            const messages = chatMessages.querySelectorAll('.message');
            messages.forEach(msg => {
                if (!msg.classList.contains('system')) {
                    msg.remove();
                }
            });
            
            addSystemMessage("üóëÔ∏è –ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞. –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–±—â–µ–Ω–∏–µ!");
        }
        
        function scrollToBottom() {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // ==================== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        // –ü—Ä–∏–º–µ—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
        const commands = {
            '/clear': () => clearHistory(),
            '/help': () => addSystemMessage("üìã –ö–æ–º–∞–Ω–¥—ã: /clear - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é, /models - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π, /about - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"),
            '/models': () => {
                let modelsList = "üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ò–ò:\n";
                Object.entries(AI_PROVIDERS).forEach(([id, provider]) => {
                    modelsList += `\n${provider.icon} ${provider.name} - ${provider.description}`;
                });
                addSystemMessage(modelsList);
            },
            '/about': () => addSystemMessage("ü§ñ –ò–ò –ß–∞—Ç-–±–æ—Ç v1.0 | –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ GitHub Pages | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –ò–ò")
        };
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥
        messageInput.addEventListener('input', () => {
            const text = messageInput.value.trim();
            if (text.startsWith('/')) {
                sendBtn.disabled = false;
            }
        });
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
        setInterval(() => {
            if (Math.random() > 0.95) {
                const statuses = ["‚ö° –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç", "üß† –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é...", "üí≠ –î—É–º–∞—é...", "‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ"];
                aiStatus.textContent = `${AI_PROVIDERS[selectedAI].icon} ${statuses[Math.floor(Math.random() * statuses.length)]}`;
            }
        }, 5000);
    </script>
</body>
</html>
