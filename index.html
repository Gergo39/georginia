<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ –†–µ–∞–ª—å–Ω—ã–π –ò–ò –ß–∞—Ç</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; background: #1a1a1a; color: white; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #00ff88; font-size: 36px; }
        .chat { background: #2d2d2d; border-radius: 15px; padding: 20px; height: 70vh; overflow-y: auto; }
        .message { margin: 10px 0; padding: 12px; border-radius: 10px; max-width: 80%; }
        .user { background: #00ff88; color: black; margin-left: auto; }
        .ai { background: #3a3a3a; margin-right: auto; }
        .input-area { display: flex; margin-top: 20px; gap: 10px; }
        input { flex: 1; padding: 15px; border-radius: 10px; border: none; background: #2d2d2d; color: white; }
        button { padding: 15px 30px; background: #00ff88; border: none; border-radius: 10px; cursor: pointer; }
        .loading { color: #00ff88; padding: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ –†–µ–∞–ª—å–Ω—ã–π –ò–ò –ß–∞—Ç</h1>
            <p>–ù–∞—Å—Ç–æ—è—â–∏–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </div>
        
        <div class="chat" id="chat"></div>
        
        <div class="input-area">
            <input type="text" id="message" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ò–ò..." autocomplete="off">
            <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <script>
        // –ò–ò API - DeepSeek (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
        const DEEPSEEK_API_KEY = "sk-08614ea21e7841cfb00d6c4a41166fd5"; // –î–µ–º–æ-–∫–ª—é—á
        const API_URL = "https://api.deepseek.com/v1/chat/completions";
        
        // –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞
        let conversation = [];
        
        // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        function addMessage(text, sender) {
            const chat = document.getElementById('chat');
            const div = document.createElement('div');
            div.className = `message ${sender}`;
            div.textContent = text;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ò–ò
        async function sendMessage() {
            const input = document.getElementById('message');
            const text = input.value.trim();
            if (!text) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(text, 'user');
            input.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.textContent = "–ò–ò –¥—É–º–∞–µ—Ç...";
            document.getElementById('chat').appendChild(loading);
            
            try {
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                conversation.push({ role: "user", content: text });
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –ò–ò
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${DEEPSEEK_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: "deepseek-chat",
                        messages: conversation,
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });
                
                // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                loading.remove();
                
                const data = await response.json();
                
                if (data.choices && data.choices[0]) {
                    const aiResponse = data.choices[0].message.content;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –ò–ò
                    addMessage(aiResponse, 'ai');
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    conversation.push({ role: "assistant", content: aiResponse });
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
                    if (conversation.length > 10) {
                        conversation = conversation.slice(-10);
                    }
                } else {
                    throw new Error("–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ò–ò");
                }
                
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞:", error);
                loading.remove();
                addMessage("‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ò–ò. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ API –∫–ª—é—á.", 'ai');
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ Enter
        document.getElementById('message').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
        
        // –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        setTimeout(() => {
            addMessage("üëã –ü—Ä–∏–≤–µ—Ç! –Ø —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò –Ω–∞ –±–∞–∑–µ DeepSeek. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã!", 'ai');
        }, 500);
    </script>
</body>
</html>
